{% extends 'base2.html' %}
{% load static %}

{% block title %}ãƒ­ã‚°ã‚¤ãƒ³{% endblock %}

{% block content %}
    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <link rel="stylesheet" href="{% static 'css/login/login.css' %}">

    <main>
        <div class="login-container">
            <form method="post">
                {% csrf_token %}
                <h1>Login</h1>
            
                {% if form.errors %}
                    <p style="color: red;">Invalid username or password.</p>
                {% endif %}
                
                <label for="id_email">Email</label>
                {{ form.email }}
                
                <label for="id_password">Password</label>
                <div class="password-container">
                    {{ form.password }}
                    <span id="eye-icon" class="eye-icon">ğŸ‘ï¸</span> <!-- ç›®ã®çµµæ–‡å­— -->
                </div>
                
                <button type="submit">Log in</button>

                <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸå ´åˆ -->
                <div class="forgot-password">
                    <a href="{% url 'cookapp:password_reset' %}">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸå ´åˆ</a>
                </div>
            </form>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const eyeIcon = document.getElementById('eye-icon');
            const passwordField = document.getElementById('id_password');  // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®IDã‚’å–å¾—
    
            // ç›®ã®çµµæ–‡å­—ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã®ã‚¤ãƒ™ãƒ³ãƒˆ
            eyeIcon.addEventListener('click', function() {
                // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®è¡¨ç¤ºãƒ»éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
                if (passwordField.type === 'password') {
                    passwordField.type = 'text';  // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹
                    eyeIcon.textContent = 'ğŸ‘ï¸';  // ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç›®ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’ä»˜ã‘ãŸã‚‚ã®ã«å¤‰æ›´
                    eyeIcon.classList.add('active');  // ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
                } else {
                    passwordField.type = 'password';  // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’éè¡¨ç¤ºã«ã™ã‚‹
                    eyeIcon.textContent = 'ğŸ™ˆ';  // ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç›®ã«æˆ»ã™
                    eyeIcon.classList.remove('active');  // ã‚¢ã‚¤ã‚³ãƒ³ã‚’å…ƒã®çŠ¶æ…‹ã«æˆ»ã™
                }
            });
        });
    </script>
    
    
{% endblock %}
