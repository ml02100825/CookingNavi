<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>メニュー・栄養素閲覧</title>
    
</head>
<body>

    <h2>メニュー・栄養素閲覧</h2>
    <p>～10月16日（水）～ 朝</p>

    
{% for i in cook_list %}
    {{ i.cookname }}
    <div class="tab-container">
 
        {% for material in material_list %}
        {% if forloop.counter0 == forloop.parentloop.counter0 %}
            material_list{{ forloop.parentloop.counter }} = '{{ material }}';
            <button class="tab-button{{ forloop.parentloop.counter }}" onclick="showContent('ingredients', '{{ material }}', '{{ forloop.counter }}')">材料</button>
        {% endif %}
        {% endfor %}
       
        
        

    <button class="tab-button{{ forloop.counter }}" onclick="showContent('recipe','{{i.recipe_text}}', '{{ forloop.counter }}')">作り方</button>
    <button class="tab-button{{ forloop.counter }}" onclick="showContent('nutrition','カロリー：{{i.calorie}} \n タンパク質：{{i.protein}}g\n','{{ forloop.counter }}')">栄養素</button>
    </div>

    <div class="content-box" id="content-box{{ forloop.counter }}">
        ここに内容が表示されます。
    </div>
{% endfor %}
    <script>
        function showContent(type, text,count) {
            contentid = 'content-box' + count;
            const contentBox = document.getElementById(contentid);
            const buttonid = '.tab-button' +count;
            console.log(buttonid)
            const buttons = document.querySelectorAll(buttonid);

            // 全てのボタンから active クラスを削除
            buttons.forEach(button => button.classList.remove('active'));

            // クリックされたボタンに active クラスを追加
            event.target.classList.add('active');

            // 表示内容を変更
            if (type === 'ingredients') {
                contentBox.textContent =text;
            } else if (type === 'recipe') {
                for (const key in text) {
                    console.log(`iの値は ${key}`);

                
                }
            
                    contentBox.textContent = i;
            
            } else if (type === 'nutrition') {
                contentBox.textContent =text;
            }
        }
    
    </script>

</body>
</html>
